{"ast":null,"code":"var _jsxFileName = \"/Users/victoriakanicka/sei-monstera/projects/project3-PixelProgress/pixel-progress-front-end/pixel-react-app/src/components/LoginForm.js\";\nimport React, { Component } from 'react';\nimport { Button, Divider, Form, Grid, Segment } from 'semantic-ui-react';\nimport Register from \"./RegisterModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: ''\n    };\n\n    this.handleChange = (e, {\n      name,\n      value\n    }) => {\n      this.setState({\n        [name]: value\n      });\n      console.log(this.state);\n    };\n\n    this.loggingUser = async e => {\n      console.log('loggingUser');\n      e.preventDefault();\n      const url = this.props.baseURL + '/users/login';\n      const loginBody = {\n        username: e.target.username.value,\n        password: e.target.password.value\n      };\n\n      try {\n        const response = await fetch(url, {\n          method: 'POST',\n          body: JSON.stringify(loginBody),\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          credentials: \"include\" // SENDING COOKIES\n\n        });\n\n        if (response.status === 200) {\n          this.getGoals();\n        }\n      } catch (err) {\n        console.log('Error => ', err);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Segment, {\n      placeholder: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        columns: 2,\n        relaxed: \"very\",\n        stackable: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.loggingUser,\n            children: [/*#__PURE__*/_jsxDEV(Form.Input, {\n              icon: \"user\",\n              iconPosition: \"left\",\n              label: \"Username\",\n              placeholder: \"Username\",\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n              icon: \"lock\",\n              iconPosition: \"left\",\n              label: \"Password\",\n              type: \"password\",\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              content: \"Login\",\n              primary: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n          verticalAlign: \"middle\",\n          children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        vertical: true,\n        children: \"Or\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/victoriakanicka/sei-monstera/projects/project3-PixelProgress/pixel-progress-front-end/pixel-react-app/src/components/LoginForm.js"],"names":["React","Component","Button","Divider","Form","Grid","Segment","Register","Login","constructor","props","state","username","password","handleChange","e","name","value","setState","console","log","loggingUser","preventDefault","url","baseURL","loginBody","target","response","fetch","method","body","JSON","stringify","headers","credentials","status","getGoals","err","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { Button, Divider, Form, Grid, Segment } from 'semantic-ui-react'\nimport Register from \"./RegisterModal\"\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  state = { username: '', password: ''}\n\n  handleChange = (e, { name, value }) => {\n    this.setState({ [name] : value });\n    console.log(this.state)\n  }\n\n  loggingUser = async (e) => {\n    console.log('loggingUser')\n    e.preventDefault()\n    const url = this.props.baseURL + '/users/login'\n    const loginBody = {\n      username: e.target.username.value,\n      password: e.target.password.value\n    }\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(loginBody),\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: \"include\" // SENDING COOKIES\n      })\n\n      if (response.status === 200) {\n        this.getGoals()\n      }\n    }\n    catch (err) {\n      console.log('Error => ', err);\n    }\n  }\n\n  render() {\n    return (\n      <Segment placeholder>\n        <Grid columns={2} relaxed='very' stackable>\n          <Grid.Column>\n            <Form onSubmit={this.loggingUser}>\n              <Form.Input\n                icon='user'\n                iconPosition='left'\n                label='Username'\n                placeholder='Username'\n                onChange={this.handleChange}\n\n              />\n              <Form.Input\n                icon='lock'\n                iconPosition='left'\n                label='Password'\n                type='password'\n                onChange={this.handleChange}\n\n              />\n\n              <Button content='Login' primary />\n            </Form>\n          </Grid.Column>\n\n          <Grid.Column verticalAlign='middle'>\n            <Register />\n          </Grid.Column>\n        </Grid>\n\n        <Divider vertical>Or</Divider>\n      </Segment>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}